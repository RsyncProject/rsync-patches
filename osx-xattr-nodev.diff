This patch makes the xattr functions skip devices and special files,
because OS X returns the wrong errno when getting/setting xattrs on
them (it returns EPERM instead of ENOTSUP).

To use this patch, run these commands for a successful build:

    patch -p1 <patches/osx-xattr-nodev.diff
    ./configure                         (optional if already run)
    make

based-on: 25082d1ef6712a15c52a1dacb36b7f0642c23ac8
